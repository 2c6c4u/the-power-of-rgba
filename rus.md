# Сила `rgba()`-функций в CSS

Одна из наиболее интересных для меня вещей в CSS — это новая [color-mod][1] [функция][2]. Она дает нам возможность манипулировать цветами прямо в браузере. Например, при наведении на кнопку мы можем изменить ее цвет без препроцессоров типа Sass так: `color: color(black darkness(50%));`.

Но пока поддержка цветовых CSS-функций не реализована, [временно][3] мы можем использовать PostCSS и компилировать их как обычные цвета. Или мы можем экспериментировать и исследовать силу CSS цветовых `rgba()`-функций, чтобы менять цвет на лету! Давайте помотрим, как это можно использовать.

## Как это работает ![basic idea][4]

В программах для дизайна, когда мы помещаем черный и белый блоки над большим синим блоком (как в примере), в результате мы получим соответственно более светлый или более темный синий цвет.

Это происходит потому, что при уменьшении непрозрачности, цвета будут смешиваться на основе того, белый это или черный. Знаете, что произойдет, если изменить синий фон на зеленый? Верно![Basic Idea Green][5]!
Как видите, при изменении цвета фона маленькие блоки стали выглядеть иначе: мы получили светлый и темный зеленый. Также мы можем изменить значение непрозрачности, чтобы выбрать более светлый или темный оттенок. Давайте отработаем этот базовый навык, чтобы перейти к реальным примерам.

## Применение концепции

Чтобы сохранить краткость примера выше, поиграем с непрозрачностью. В реальном дизайне нам может понадобиться альфа-значение `rgba()`.

````
	.header {
      background: rgba(0, 0, 0, 0.5); /* Черный с непрозрачностью 50% */
    }
````

Здесь мы взяли `background` вместо `opacity`, потому что при использовании `opacity` будут затронуты все потомки, а нам это не нужно. Если мы используем альфа-канал для свойства `background`, мы обеспечиваем изменение только нужного элемента.

Примечание: в демо мы будем использовать Sass `rgba()`-функции ради скорости. Например:

````
	.elem {
      background: rgba(white, 0.5);
    }
````
скомпилируется в:

````
	.elem {
      background: rgba(255, 255, 255, 0.5);
    }
````

### Оформление шапки сайта

Первый вариант использования `rgba()` — это темы для шапок веб-приложений. В [Trello][6] используются цвета фона с `rgba()` для дочерних элементов шапки (логотип, поле поиска, кнопки):

````
	.search {
      background: rgba(255, 255, 255, 0.5); /* Белый с 50% альфа-каналом */
    }
````
![Trello with Devtools][7]

Используя это, мы получаем возможность управлять темой шапки через изменение только ее фона, и дочерние элементы изменяются тоже.

В нашем примере мы можем сделать что-нибудь похожее на шапку Trello и поиграть с фоном через панель разработки

![Trello Header][8]

Обратите внимание, как отличается цвет фона потомков в двух шапках. Если мы хотим исследовать элемент и изменить фон родителя, мы можем настроить нашу шапку очень просто.

![Theming Header][9]
Посмотреть пример [Header][10] от Ahmad Shadeed ([@shadeed][11]) на [CodePen][12].

### Шапка статьи ![Article Header][13]



 [1]: https://drafts.csswg.org/css-color/#modifying-colors
 [2]: https://github.com/postcss/postcss-color-function
 [3]: https://cloudfour.com/thinks/building-themes-with-css4-color-features/
 [4]: img/basic-idea-768x442.jpg%20768w
 [5]: img/basic-idea-green-768x442.jpg%20768w
 [6]: https://trello.com
 [7]: img/trello-768x211.jpg%20768w
 [8]: img/Screen-Shot-2016-10-22-at-6.38.58-AM-768x156.png%20768w
 [9]: img/theming-header.gif
 [10]: http://codepen.io/shadeed/pen/79bb883e8f17c41a90f46c8fdf1a40e2/
 [11]: http://codepen.io/shadeed
 [12]: http://codepen.io
 [13]: img/Screen-Shot-2016-10-22-at-6.56.33-AM-768x307.png%20768w
 [14]: img/article-header-768x306.jpg%20768w
 [15]: http://codepen.io/shadeed/pen/fc254c1f120cc38a1b199f96d1d07a85/
 [16]: http://codepen.io/shadeed/pen/f822dd1cac006c00d5418cddac19efac/
 [17]: img/gradients-768x490.jpg%20768w
 [18]: http://codepen.io/shadeed/pen/808cbbdee59ddffdd39c91c2f1a290f1/
 [19]: http://codepen.io/shadeed/pen/760a044dd7e6a7fed972ce3ee08dc02a/
 [20]: http://codepen.io/shadeed/pen/eb5a955b69c2e31b3dcc0e9131db21b2/
 [21]: http://codepen.io/shadeed/pen/c2a60d0ed9e0313a76cc2c24e05402c7/
 [22]: img/images-768x227.jpg%20768w
 [23]: http://codepen.io/shadeed/pen/759699e8fc8d5253540fd33880cafa81/
 [24]: https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_variables
 [25]: http://codepen.io/shadeed/pen/a78a3d28eee617784cc75e2fa3dfad76/
 [26]: http://caniuse.com/#search=rgba
 [27]: http://leaverou.github.io/contrast-ratio/
